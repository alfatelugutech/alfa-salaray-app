{"version":3,"mappings":"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","names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","API_BASE_URL","api","axios","checkBackendHealth","response","error","config","token","_a","_b","_c","_d","_e","_f","toast","_g","_h","_i","_j","_k","_l","_m","message","_o","_n","_q","_p","authService","credentials","userData","userStr","user","useAuth","setUser","useState","isLoading","setIsLoading","queryClient","useQueryClient","navigate","useNavigate","useEffect","storedUser","currentUser","isFetchingUser","useQuery","loginMutation","useMutation","data","registerMutation","notificationService","notificationId","NotificationCenter","isOpen","setIsOpen","showSettings","setShowSettings","notificationsData","markAsReadMutation","markAllAsReadMutation","deleteNotificationMutation","notifications","unreadCount","getNotificationIcon","type","jsx","CheckCircle","AlertCircle","XCircle","Info","getPriorityColor","priority","handleMarkAsRead","handleDeleteNotification","handleMarkAllAsRead","jsxs","Bell","Settings","X","notification","Check","Trash2","Layout","children","logout","getSmartNavigation","baseNav","item","index","Link","subItem","subIndex","LoadingSpinner","memo","size","className","sizeClasses","Login","lazy","__vitePreload","Dashboard","Employees","Attendance","AttendanceCalendar","AttendanceReports","LeaveRequests","MyAttendance","MyLeave","Profile","ShiftManagement","PayrollManagement","PaymentReports","DepartmentManagement","RoleManagement","SystemSettings","App","Suspense","Routes","Route","Navigate","isAdmin","Fragment","QueryClient","ReactDOM","React","QueryClientProvider","BrowserRouter","Toaster"],"ignoreList":[0,1,2],"sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../src/services/api.ts","../../src/services/authService.ts","../../src/hooks/useAuth.ts","../../src/services/notificationService.ts","../../src/components/NotificationCenter.tsx","../../src/components/Layout.tsx","../../src/components/LoadingSpinner.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import axios from 'axios'\r\nimport toast from 'react-hot-toast'\r\n\r\nconst API_BASE_URL = import.meta.env.VITE_API_URL || 'https://alfa-salaray-app.onrender.com/api'\r\n\r\n// Create axios instance\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 10000, // 10 second timeout\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n})\r\n\r\n// Debug logging\r\nconsole.log('üîó API Base URL:', API_BASE_URL)\r\nconsole.log('üåç Environment:', import.meta.env.MODE)\r\n\r\n// Health check function\r\nexport const checkBackendHealth = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_BASE_URL.replace('/api', '')}/health`, {\r\n      timeout: 5000\r\n    })\r\n    console.log('‚úÖ Backend health check passed:', response.data)\r\n    return { isHealthy: true, data: response.data }\r\n  } catch (error: any) {\r\n    console.error('‚ùå Backend health check failed:', error.message)\r\n    return { isHealthy: false, error: error.message }\r\n  }\r\n}\r\n\r\n// Request interceptor to add auth token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token')\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`\r\n    }\r\n    return config\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// Response interceptor to handle errors\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    return response\r\n  },\r\n  (error) => {\r\n    // Log detailed error information\r\n    console.error('API Error:', {\r\n      url: error.config?.url,\r\n      method: error.config?.method,\r\n      status: error.response?.status,\r\n      statusText: error.response?.statusText,\r\n      data: error.response?.data,\r\n      message: error.message,\r\n      code: error.code\r\n    });\r\n\r\n    // Handle authentication errors\r\n    if (error.response?.status === 401) {\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('user')\r\n      window.location.href = '/login'\r\n      return Promise.reject(error)\r\n    }\r\n    \r\n    // Handle timeout errors\r\n    if (error.code === 'ECONNABORTED' || error.message.includes('timeout')) {\r\n      console.error('Request timeout - backend is not responding')\r\n      console.error('Backend URL:', API_BASE_URL)\r\n      toast.error('Server timeout. The backend may be slow or overloaded. Please try again.')\r\n      return Promise.reject(error)\r\n    }\r\n    \r\n    // Handle network errors more gracefully\r\n    if (error.code === 'NETWORK_ERROR' || error.message === 'Network Error' || error.code === 'ERR_NETWORK') {\r\n      console.error('Network error - backend may be unavailable at:', API_BASE_URL)\r\n      console.error('Full error:', error)\r\n      toast.error('Network error. Please check your internet connection and try again.')\r\n      return Promise.reject(error)\r\n    }\r\n    \r\n    // Handle connection refused errors\r\n    if (error.code === 'ECONNREFUSED' || error.message.includes('Connection refused')) {\r\n      console.error('Connection refused - backend is not running')\r\n      toast.error('Backend server is not running. Please contact support.')\r\n      return Promise.reject(error)\r\n    }\r\n    \r\n    // Handle 502/503 errors (bad gateway/service unavailable)\r\n    if (error.response?.status === 502 || error.response?.status === 503) {\r\n      console.error('Backend service unavailable:', error.response.status)\r\n      toast.error('Backend service is temporarily unavailable. Please try again later.')\r\n      return Promise.reject(error)\r\n    }\r\n    \r\n    // Handle rate limiting (429)\r\n    if (error.response?.status === 429) {\r\n      console.warn('Rate limit exceeded - backend may be temporarily unavailable')\r\n      toast.error('Server is busy - please try again in a few minutes')\r\n      return Promise.reject(error)\r\n    }\r\n    \r\n    // Handle server errors (5xx)\r\n    if (error.response?.status >= 500) {\r\n      console.error('Server error:', error.response?.data)\r\n      toast.error('Server error - please try again later')\r\n      return Promise.reject(error)\r\n    }\r\n    \r\n    // Handle client errors (4xx) with specific messages\r\n    if (error.response?.status >= 400 && error.response?.status < 500) {\r\n      const message = error.response?.data?.error || 'Request failed'\r\n      toast.error(message)\r\n      return Promise.reject(error)\r\n    }\r\n    \r\n    // Handle other errors\r\n    const message = error.response?.data?.error || error.message || 'An error occurred'\r\n    toast.error(message)\r\n    \r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default api\r\n","import api from './api'\r\nimport { LoginCredentials, RegisterData, User } from '../types'\r\n\r\nexport const authService = {\r\n  // Login user\r\n  async login(credentials: LoginCredentials): Promise<{ user: User; token: string }> {\r\n    const response = await api.post<{ success: boolean; message: string; data: { user: User; token: string } }>('/auth/login', credentials)\r\n    return { user: response.data.data.user, token: response.data.data.token }\r\n  },\r\n\r\n  // Register user\r\n  async register(userData: RegisterData): Promise<{ user: User; token: string }> {\r\n    const response = await api.post<{ success: boolean; message: string; data: { user: User; token: string } }>('/auth/register', userData)\r\n    return { user: response.data.data.user, token: response.data.data.token }\r\n  },\r\n\r\n  // Get current user\r\n  async getCurrentUser(): Promise<User> {\r\n    const response = await api.get<{ success: boolean; data: { user: User } }>('/auth/me')\r\n    return response.data.data.user\r\n  },\r\n\r\n  // Logout (client-side only)\r\n  logout() {\r\n    localStorage.removeItem('token')\r\n    localStorage.removeItem('user')\r\n  },\r\n\r\n  // Check if user is authenticated\r\n  isAuthenticated(): boolean {\r\n    try {\r\n      const token = localStorage.getItem('token')\r\n      if (!token || token === 'undefined' || token === 'null' || token === '') {\r\n        return false\r\n      }\r\n      return true\r\n    } catch (error) {\r\n      console.error('Error checking authentication:', error)\r\n      return false\r\n    }\r\n  },\r\n\r\n  // Get stored user\r\n  getStoredUser(): User | null {\r\n    try {\r\n      const userStr = localStorage.getItem('user')\r\n      if (!userStr || userStr === 'undefined' || userStr === 'null' || userStr === '') {\r\n        return null\r\n      }\r\n      \r\n      // Additional check to prevent parsing undefined\r\n      if (userStr === 'undefined' || userStr === 'null') {\r\n        localStorage.removeItem('user')\r\n        localStorage.removeItem('token')\r\n        return null\r\n      }\r\n      \r\n      return JSON.parse(userStr)\r\n    } catch (error) {\r\n      console.error('Error parsing stored user:', error)\r\n      localStorage.removeItem('user')\r\n      localStorage.removeItem('token')\r\n      return null\r\n    }\r\n  },\r\n\r\n  // Store user data\r\n  storeUser(user: User, token: string) {\r\n    localStorage.setItem('user', JSON.stringify(user))\r\n    localStorage.setItem('token', token)\r\n  }\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { authService } from '../services/authService'\r\nimport { User, LoginCredentials, RegisterData } from '../types'\r\nimport toast from 'react-hot-toast'\r\n\r\nexport const useAuth = () => {\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const queryClient = useQueryClient()\r\n  const navigate = useNavigate()\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const storedUser = authService.getStoredUser()\r\n      if (storedUser && authService.isAuthenticated()) {\r\n        setUser(storedUser)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error initializing auth:', error)\r\n      authService.logout()\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  const { data: currentUser, isLoading: isFetchingUser } = useQuery(\r\n    'currentUser',\r\n    authService.getCurrentUser,\r\n    {\r\n      enabled: !!user && authService.isAuthenticated(),\r\n      retry: false,\r\n      onError: () => {\r\n        authService.logout()\r\n        setUser(null)\r\n      }\r\n    }\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      setUser(currentUser)\r\n      authService.storeUser(currentUser, localStorage.getItem('token')!)\r\n    }\r\n  }, [currentUser])\r\n\r\n  const loginMutation = useMutation(authService.login, {\r\n    onSuccess: (data) => {\r\n      authService.storeUser(data.user, data.token)\r\n      setUser(data.user)\r\n      queryClient.invalidateQueries('currentUser')\r\n      toast.success('Login successful!')\r\n      navigate('/dashboard')\r\n    },\r\n    onError: (error: any) => {\r\n      console.error('Login error:', error)\r\n      \r\n      // Handle specific error cases\r\n      if (error.response?.status === 429) {\r\n        toast.error('Server is busy - please try again in a few minutes')\r\n      } else if (error.response?.status === 401) {\r\n        toast.error('Invalid email or password')\r\n      } else if (error.response?.status === 0 || error.code === 'NETWORK_ERROR') {\r\n        toast.error('Cannot connect to server - please check your internet connection')\r\n      } else {\r\n        toast.error(error.response?.data?.error || 'Login failed')\r\n      }\r\n    }\r\n  })\r\n\r\n  const registerMutation = useMutation(authService.register, {\r\n    onSuccess: (data) => {\r\n      authService.storeUser(data.user, data.token)\r\n      setUser(data.user)\r\n      queryClient.invalidateQueries('currentUser')\r\n      toast.success('Registration successful!')\r\n      navigate('/dashboard')\r\n    },\r\n    onError: (error: any) => {\r\n      toast.error(error.response?.data?.error || 'Registration failed')\r\n    }\r\n  })\r\n\r\n  const logout = () => {\r\n    authService.logout()\r\n    setUser(null)\r\n    queryClient.clear()\r\n    toast.success('Logged out successfully')\r\n  }\r\n\r\n  const login = (credentials: LoginCredentials) => {\r\n    return loginMutation.mutateAsync(credentials)\r\n  }\r\n\r\n  const register = (userData: RegisterData) => {\r\n    return registerMutation.mutateAsync(userData)\r\n  }\r\n\r\n  return {\r\n    user,\r\n    isLoading: isLoading || isFetchingUser,\r\n    login,\r\n    register,\r\n    logout,\r\n    isLoggingIn: loginMutation.isLoading,\r\n    isRegistering: registerMutation.isLoading\r\n  }\r\n}\r\n","import api from './api'\r\n\r\nexport interface Notification {\r\n  id: string\r\n  type: 'INFO' | 'WARNING' | 'ERROR' | 'SUCCESS'\r\n  title: string\r\n  message: string\r\n  priority: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT'\r\n  actionRequired: boolean\r\n  timestamp: string\r\n  read: boolean\r\n  userId?: string\r\n  employeeId?: string\r\n}\r\n\r\nexport const notificationService = {\r\n  // Get notifications for current user\r\n  async getNotifications(): Promise<Notification[]> {\r\n    const response = await api.get('/notifications')\r\n    return response.data.data\r\n  },\r\n\r\n  // Mark notification as read\r\n  async markAsRead(notificationId: string): Promise<void> {\r\n    await api.patch(`/notifications/${notificationId}/read`)\r\n  },\r\n\r\n  // Mark all notifications as read\r\n  async markAllAsRead(): Promise<void> {\r\n    await api.patch('/notifications/read-all')\r\n  },\r\n\r\n  // Delete notification\r\n  async deleteNotification(notificationId: string): Promise<void> {\r\n    await api.delete(`/notifications/${notificationId}`)\r\n  },\r\n\r\n  // Get notification preferences\r\n  async getPreferences(): Promise<any> {\r\n    const response = await api.get('/notifications/preferences')\r\n    return response.data.data\r\n  },\r\n\r\n  // Update notification preferences\r\n  async updatePreferences(preferences: any): Promise<void> {\r\n    await api.patch('/notifications/preferences', preferences)\r\n  },\r\n\r\n  // Send notification to specific user\r\n  async sendNotification(data: {\r\n    userId: string\r\n    type: string\r\n    title: string\r\n    message: string\r\n    priority: string\r\n  }): Promise<void> {\r\n    await api.post('/notifications/send', data)\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Bell, X, Check, Trash2, Settings, AlertCircle, Info, CheckCircle, XCircle } from 'lucide-react'\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query'\r\nimport { notificationService } from '../services/notificationService'\r\nimport toast from 'react-hot-toast'\r\n\r\nconst NotificationCenter: React.FC = () => {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [showSettings, setShowSettings] = useState(false)\r\n  const queryClient = useQueryClient()\r\n\r\n  // Fetch notifications\r\n  const { data: notificationsData, isLoading } = useQuery(\r\n    'notifications',\r\n    notificationService.getNotifications,\r\n    {\r\n      refetchInterval: 30000, // Refetch every 30 seconds\r\n      refetchOnWindowFocus: true\r\n    }\r\n  )\r\n\r\n  // Mark as read mutation\r\n  const markAsReadMutation = useMutation(notificationService.markAsRead, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries('notifications')\r\n      toast.success('Notification marked as read')\r\n    },\r\n    onError: (error: any) => {\r\n      toast.error(error.response?.data?.error || 'Failed to mark notification as read')\r\n    }\r\n  })\r\n\r\n  // Mark all as read mutation\r\n  const markAllAsReadMutation = useMutation(notificationService.markAllAsRead, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries('notifications')\r\n      toast.success('All notifications marked as read')\r\n    },\r\n    onError: (error: any) => {\r\n      toast.error(error.response?.data?.error || 'Failed to mark all notifications as read')\r\n    }\r\n  })\r\n\r\n  // Delete notification mutation\r\n  const deleteNotificationMutation = useMutation(notificationService.deleteNotification, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries('notifications')\r\n      toast.success('Notification deleted')\r\n    },\r\n    onError: (error: any) => {\r\n      toast.error(error.response?.data?.error || 'Failed to delete notification')\r\n    }\r\n  })\r\n\r\n  const notifications = notificationsData || []\r\n  const unreadCount = notifications.filter(n => !n.read).length\r\n\r\n  const getNotificationIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'SUCCESS':\r\n        return <CheckCircle className=\"w-5 h-5 text-green-500\" />\r\n      case 'WARNING':\r\n        return <AlertCircle className=\"w-5 h-5 text-yellow-500\" />\r\n      case 'ERROR':\r\n        return <XCircle className=\"w-5 h-5 text-red-500\" />\r\n      default:\r\n        return <Info className=\"w-5 h-5 text-blue-500\" />\r\n    }\r\n  }\r\n\r\n  const getPriorityColor = (priority: string) => {\r\n    switch (priority) {\r\n      case 'URGENT':\r\n        return 'border-l-red-500 bg-red-50'\r\n      case 'HIGH':\r\n        return 'border-l-orange-500 bg-orange-50'\r\n      case 'MEDIUM':\r\n        return 'border-l-blue-500 bg-blue-50'\r\n      default:\r\n        return 'border-l-gray-500 bg-gray-50'\r\n    }\r\n  }\r\n\r\n  const handleMarkAsRead = (notificationId: string) => {\r\n    markAsReadMutation.mutate(notificationId)\r\n  }\r\n\r\n  const handleDeleteNotification = (notificationId: string) => {\r\n    deleteNotificationMutation.mutate(notificationId)\r\n  }\r\n\r\n  const handleMarkAllAsRead = () => {\r\n    markAllAsReadMutation.mutate()\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      {/* Notification Bell */}\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"relative p-2 text-gray-600 hover:text-blue-600 transition-colors\"\r\n      >\r\n        <Bell className=\"w-6 h-6\" />\r\n        {unreadCount > 0 && (\r\n          <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\r\n            {unreadCount}\r\n          </span>\r\n        )}\r\n      </button>\r\n\r\n      {/* Notification Dropdown */}\r\n      {isOpen && (\r\n        <div className=\"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-lg border z-50\">\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between p-4 border-b\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">Notifications</h3>\r\n            <div className=\"flex items-center space-x-2\">\r\n              {unreadCount > 0 && (\r\n                <button\r\n                  onClick={handleMarkAllAsRead}\r\n                  disabled={markAllAsReadMutation.isLoading}\r\n                  className=\"text-sm text-blue-600 hover:text-blue-800 disabled:opacity-50\"\r\n                >\r\n                  Mark all read\r\n                </button>\r\n              )}\r\n              <button\r\n                onClick={() => setShowSettings(!showSettings)}\r\n                className=\"p-1 text-gray-600 hover:text-gray-800\"\r\n              >\r\n                <Settings className=\"w-4 h-4\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setIsOpen(false)}\r\n                className=\"p-1 text-gray-600 hover:text-gray-800\"\r\n              >\r\n                <X className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Notifications List */}\r\n          <div className=\"max-h-96 overflow-y-auto\">\r\n            {isLoading ? (\r\n              <div className=\"p-4 text-center text-gray-500\">\r\n                Loading notifications...\r\n              </div>\r\n            ) : notifications.length === 0 ? (\r\n              <div className=\"p-4 text-center text-gray-500\">\r\n                No notifications\r\n              </div>\r\n            ) : (\r\n              notifications.map((notification) => (\r\n                <div\r\n                  key={notification.id}\r\n                  className={`p-4 border-l-4 ${getPriorityColor(notification.priority)} ${\r\n                    !notification.read ? 'bg-blue-50' : ''\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-start space-x-3\">\r\n                    {getNotificationIcon(notification.type)}\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <h4 className=\"text-sm font-medium text-gray-900\">\r\n                          {notification.title}\r\n                        </h4>\r\n                        <div className=\"flex items-center space-x-1\">\r\n                          {!notification.read && (\r\n                            <button\r\n                              onClick={() => handleMarkAsRead(notification.id)}\r\n                              disabled={markAsReadMutation.isLoading}\r\n                              className=\"p-1 text-gray-400 hover:text-blue-600 disabled:opacity-50\"\r\n                              title=\"Mark as read\"\r\n                            >\r\n                              <Check className=\"w-3 h-3\" />\r\n                            </button>\r\n                          )}\r\n                          <button\r\n                            onClick={() => handleDeleteNotification(notification.id)}\r\n                            disabled={deleteNotificationMutation.isLoading}\r\n                            className=\"p-1 text-gray-400 hover:text-red-600 disabled:opacity-50\"\r\n                            title=\"Delete notification\"\r\n                          >\r\n                            <Trash2 className=\"w-3 h-3\" />\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                      <p className=\"text-sm text-gray-600 mt-1\">\r\n                        {notification.message}\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-500 mt-2\">\r\n                        {new Date(notification.timestamp).toLocaleString()}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div className=\"p-4 border-t bg-gray-50\">\r\n            <button\r\n              onClick={() => {/* Navigate to all notifications */}}\r\n              className=\"w-full text-sm text-blue-600 hover:text-blue-800\"\r\n            >\r\n              View all notifications\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NotificationCenter\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuth } from '../hooks/useAuth'\r\nimport NotificationCenter from './NotificationCenter'\r\n\r\ninterface LayoutProps {\r\n  children: React.ReactNode\r\n}\r\n\r\ninterface NavigationItem {\r\n  name: string\r\n  href?: string\r\n  icon: string\r\n  type: 'main' | 'dropdown'\r\n  submenu?: {\r\n    name: string\r\n    href: string\r\n    icon: string\r\n  }[]\r\n}\r\n\r\nconst Layout: React.FC<LayoutProps> = ({ children }) => {\r\n  const { user, logout } = useAuth()\r\n  \r\n  console.log('Layout component rendering...', { user })\r\n\r\n  // Smart navigation with submenus based on user role\r\n  const getSmartNavigation = (): NavigationItem[] => {\r\n    if (!user) return []\r\n    \r\n    const baseNav: NavigationItem[] = [\r\n      { name: 'Dashboard', href: '/dashboard', icon: 'üè†', type: 'main' }\r\n    ]\r\n    \r\n    if (user.role === 'SUPER_ADMIN' || user.role === 'HR_MANAGER') {\r\n      return [\r\n        ...baseNav,\r\n        { \r\n          name: 'Attendance', \r\n          icon: 'üìä', \r\n          type: 'dropdown',\r\n          submenu: [\r\n            { name: 'Mark Attendance', href: '/attendance', icon: 'üìù' },\r\n            { name: 'Calendar View', href: '/attendance-calendar', icon: 'üìÖ' },\r\n            { name: 'Reports', href: '/attendance-reports', icon: 'üìà' }\r\n          ]\r\n        },\r\n        { \r\n          name: 'Employees', \r\n          icon: 'üë•', \r\n          type: 'dropdown',\r\n          submenu: [\r\n            { name: 'All Employees', href: '/employees', icon: 'üë•' },\r\n            { name: 'Departments', href: '/departments', icon: 'üè¢' },\r\n            { name: 'Roles', href: '/roles', icon: 'üë§' }\r\n          ]\r\n        },\r\n        { \r\n          name: 'Leave Management', \r\n          icon: 'üèñÔ∏è', \r\n          type: 'dropdown',\r\n          submenu: [\r\n            { name: 'Leave Requests', href: '/leave', icon: 'üìã' },\r\n            { name: 'My Leave', href: '/my-leave', icon: 'üèñÔ∏è' }\r\n          ]\r\n        },\r\n        { \r\n          name: 'Payroll', \r\n          icon: 'üí∞', \r\n          type: 'dropdown',\r\n          submenu: [\r\n            { name: 'Payroll Management', href: '/payroll', icon: 'üí∞' },\r\n            { name: 'Payment Reports', href: '/payment-reports', icon: 'üí≥' }\r\n          ]\r\n        },\r\n        { name: 'Shifts', href: '/shifts', icon: '‚è∞', type: 'main' as const },\r\n        ...(user.role === 'SUPER_ADMIN' ? [{ name: 'Settings', href: '/settings', icon: '‚öôÔ∏è', type: 'main' as const }] : [])\r\n      ]\r\n    }\r\n    \r\n    return [\r\n      ...baseNav,\r\n      { name: 'My Attendance', href: '/my-attendance', icon: 'üìÖ', type: 'main' as const },\r\n      { name: 'My Leave', href: '/my-leave', icon: 'üèñÔ∏è', type: 'main' as const },\r\n      { name: 'Profile', href: '/profile', icon: 'üë§', type: 'main' as const }\r\n    ]\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Simple header */}\r\n      <div className=\"bg-white shadow\">\r\n        <div className=\"px-4 py-3\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <h1 className=\"text-xl font-bold text-gray-900\">\r\n              Employee Attendance System\r\n            </h1>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <span className=\"text-sm text-gray-600\">\r\n                Welcome, {user?.firstName} {user?.lastName}\r\n              </span>\r\n              <NotificationCenter />\r\n              <button\r\n                onClick={logout}\r\n                className=\"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Enhanced Smart Navigation with Dropdowns */}\r\n      <div className=\"bg-white border-b shadow-sm\">\r\n        <div className=\"px-4 py-3\">\r\n          <nav className=\"flex flex-wrap gap-2\">\r\n            {getSmartNavigation().map((item, index) => (\r\n              <div key={index} className=\"relative group\">\r\n                {item.type === 'dropdown' ? (\r\n                  <div className=\"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:shadow-sm cursor-pointer\">\r\n                    <span className=\"text-lg\">{item.icon}</span>\r\n                    <span>{item.name}</span>\r\n                    <span className=\"text-xs\">‚ñº</span>\r\n                  </div>\r\n                ) : (\r\n                  <Link\r\n                    to={item.href || '#'}\r\n                    className=\"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:shadow-sm\"\r\n                  >\r\n                    <span className=\"text-lg\">{item.icon}</span>\r\n                    <span>{item.name}</span>\r\n                  </Link>\r\n                )}\r\n                \r\n                {/* Dropdown Menu */}\r\n                {item.type === 'dropdown' && 'submenu' in item && (\r\n                  <div className=\"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50\">\r\n                    <div className=\"py-2\">\r\n                      {item.submenu?.map((subItem, subIndex) => (\r\n                        <Link\r\n                          key={subIndex}\r\n                          to={subItem.href}\r\n                          className=\"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors\"\r\n                        >\r\n                          <span className=\"text-lg\">{subItem.icon}</span>\r\n                          <span>{subItem.name}</span>\r\n                        </Link>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main content */}\r\n      <main className=\"p-6\">\r\n        {children}\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Layout","import React, { memo } from 'react'\r\n\r\ninterface LoadingSpinnerProps {\r\n  size?: 'sm' | 'md' | 'lg'\r\n  className?: string\r\n}\r\n\r\nconst LoadingSpinner: React.FC<LoadingSpinnerProps> = memo(({ size = 'md', className = '' }) => {\r\n  const sizeClasses = {\r\n    sm: 'w-4 h-4',\r\n    md: 'w-8 h-8',\r\n    lg: 'w-12 h-12'\r\n  }\r\n\r\n  return (\r\n    <div className={`flex items-center justify-center ${className}`}>\r\n      <div className={`animate-spin rounded-full border-2 border-primary-200 border-t-primary-600 ${sizeClasses[size]}`}></div>\r\n    </div>\r\n  )\r\n})\r\n\r\nLoadingSpinner.displayName = 'LoadingSpinner'\r\n\r\nexport default LoadingSpinner\r\n\r\n\r\n\r\n","import { Routes, Route, Navigate } from 'react-router-dom'\r\nimport { Suspense, lazy } from 'react'\r\nimport { useAuth } from './hooks/useAuth'\r\nimport Layout from './components/Layout'\r\nimport LoadingSpinner from './components/LoadingSpinner'\r\n\r\n// Lazy load pages for better performance\r\nconst Login = lazy(() => import('./pages/Login'))\r\nconst Dashboard = lazy(() => import('./pages/Dashboard'))\r\nconst Employees = lazy(() => import('./pages/Employees'))\r\nconst Attendance = lazy(() => import('./pages/Attendance'))\r\nconst AttendanceCalendar = lazy(() => import('./pages/AttendanceCalendar'))\r\nconst AttendanceReports = lazy(() => import('./pages/AttendanceReports'))\r\nconst LeaveRequests = lazy(() => import('./pages/LeaveRequests'))\r\nconst MyAttendance = lazy(() => import('./pages/MyAttendance'))\r\nconst MyLeave = lazy(() => import('./pages/MyLeave'))\r\nconst Profile = lazy(() => import('./pages/Profile'))\r\nconst ShiftManagement = lazy(() => import('./pages/ShiftManagement'))\r\nconst PayrollManagement = lazy(() => import('./pages/PayrollManagement'))\r\nconst PaymentReports = lazy(() => import('./pages/PaymentReports'))\r\nconst DepartmentManagement = lazy(() => import('./pages/DepartmentManagement'))\r\nconst RoleManagement = lazy(() => import('./pages/RoleManagement'))\r\nconst SystemSettings = lazy(() => import('./pages/SystemSettings'))\r\n\r\nfunction App() {\r\n  const { user, isLoading } = useAuth()\r\n\r\n  if (isLoading) {\r\n    return <LoadingSpinner />\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <Suspense fallback={<LoadingSpinner />}>\r\n        <Routes>\r\n          <Route path=\"/login\" element={<Login />} />\r\n          <Route path=\"*\" element={<Navigate to=\"/login\" replace />} />\r\n        </Routes>\r\n      </Suspense>\r\n    )\r\n  }\r\n\r\n  // Check if user is admin/HR\r\n  const isAdmin = user?.role === 'SUPER_ADMIN' || user?.role === 'HR_MANAGER'\r\n\r\n  return (\r\n    <Layout>\r\n      <Suspense fallback={<LoadingSpinner />}>\r\n        <Routes>\r\n        <Route path=\"/\" element={<Dashboard />} />\r\n        <Route path=\"/dashboard\" element={<Dashboard />} />\r\n        <Route path=\"/profile\" element={<Profile />} />\r\n        \r\n        {/* Admin/HR only routes */}\r\n        {isAdmin ? (\r\n          <>\r\n            <Route path=\"/employees\" element={<Employees />} />\r\n            <Route path=\"/attendance\" element={<Attendance />} />\r\n            <Route path=\"/attendance-calendar\" element={<AttendanceCalendar />} />\r\n            <Route path=\"/attendance-reports\" element={<AttendanceReports />} />\r\n            <Route path=\"/leave\" element={<LeaveRequests />} />\r\n            {/* Phase 2 routes */}\r\n            <Route path=\"/shifts\" element={<ShiftManagement />} />\r\n            <Route path=\"/payroll\" element={<PayrollManagement />} />\r\n            <Route path=\"/payment-reports\" element={<PaymentReports />} />\r\n            <Route path=\"/departments\" element={<DepartmentManagement />} />\r\n            <Route path=\"/roles\" element={<RoleManagement />} />\r\n            <Route path=\"/settings\" element={<SystemSettings />} />\r\n          </>\r\n        ) : (\r\n          <>\r\n            {/* Employee routes */}\r\n            <Route path=\"/my-attendance\" element={<MyAttendance />} />\r\n            <Route path=\"/my-leave\" element={<MyLeave />} />\r\n            <Route path=\"/attendance\" element={<Navigate to=\"/my-attendance\" replace />} />\r\n            <Route path=\"/leave\" element={<Navigate to=\"/my-leave\" replace />} />\r\n          </>\r\n        )}\r\n        \r\n        <Route path=\"/login\" element={<Navigate to=\"/\" replace />} />\r\n        <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n        </Routes>\r\n      </Suspense>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { QueryClient, QueryClientProvider } from 'react-query'\r\nimport { Toaster } from 'react-hot-toast'\r\nimport App from './App.tsx'\r\nimport './index.css'\r\n\r\n// Create a client\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      retry: 1,\r\n      refetchOnWindowFocus: false,\r\n    },\r\n  },\r\n})\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <QueryClientProvider client={queryClient}>\r\n      <BrowserRouter>\r\n        <App />\r\n        <Toaster \r\n          position=\"top-right\"\r\n          toastOptions={{\r\n            duration: 4000,\r\n            style: {\r\n              background: '#363636',\r\n              color: '#fff',\r\n            },\r\n            success: {\r\n              duration: 3000,\r\n              iconTheme: {\r\n                primary: '#10b981',\r\n                secondary: '#fff',\r\n              },\r\n            },\r\n            error: {\r\n              duration: 5000,\r\n              iconTheme: {\r\n                primary: '#ef4444',\r\n                secondary: '#fff',\r\n              },\r\n            },\r\n          }}\r\n        />\r\n      </BrowserRouter>\r\n    </QueryClientProvider>\r\n  </React.StrictMode>,\r\n)\r\n\r\n\r\n"],"file":"assets/index-mRQHkU_F.js"}