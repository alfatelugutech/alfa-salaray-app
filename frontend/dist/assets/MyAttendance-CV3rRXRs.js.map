{"version":3,"file":"MyAttendance-CV3rRXRs.js","sources":["../../src/pages/MyAttendance.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\r\nimport { Clock, Search, Filter, CheckCircle, XCircle, MapPin, Home, Camera, LogIn, LogOut } from 'lucide-react'\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query'\r\nimport { attendanceService } from '../services/attendanceService'\r\nimport { useAuth } from '../hooks/useAuth'\r\nimport { isCameraAvailable, getImageThumbnail } from '../utils/camera'\r\nimport { getCompleteLocation, getDeviceInfo } from '../utils/geolocation'\r\nimport toast from 'react-hot-toast'\r\n\r\nconst MyAttendance: React.FC = () => {\r\n  const { user } = useAuth()\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [dateFilter, setDateFilter] = useState(new Date().toISOString().split('T')[0])\r\n  const [statusFilter, setStatusFilter] = useState('')\r\n\r\n  // Fetch my attendance records\r\n  const queryClient = useQueryClient()\r\n\r\n  const { data: attendanceData, isLoading, error } = useQuery(\r\n    ['my-attendance', searchTerm, dateFilter, statusFilter],\r\n    () => attendanceService.getAttendance({\r\n      employeeId: user?.employeeId,\r\n      startDate: dateFilter,\r\n      endDate: dateFilter,\r\n      status: statusFilter\r\n    })\r\n  )\r\n\r\n  // Get current attendance status for today\r\n  const { data: attendanceStatus } = useQuery(\r\n    'attendance-status',\r\n    () => attendanceService.getAttendanceStatus(),\r\n    {\r\n      enabled: !!user?.employeeId,\r\n      refetchInterval: 30000, // Refetch every 30 seconds\r\n      refetchOnWindowFocus: true\r\n    }\r\n  )\r\n\r\n  const selfCheckInMutation = useMutation(attendanceService.selfCheckIn, {\r\n    onSuccess: () => {\r\n      toast.success('Checked in successfully')\r\n      queryClient.invalidateQueries('my-attendance')\r\n      queryClient.invalidateQueries('attendance-status')\r\n    },\r\n    onError: (error: any) => {\r\n      const errorMessage = error.response?.data?.error || 'Failed to check in'\r\n      if (errorMessage.includes('Already checked in')) {\r\n        toast.error('You have already checked in today. Please check out first.')\r\n      } else if (errorMessage.includes('Already completed attendance')) {\r\n        toast.error('You have already completed attendance for today')\r\n      } else {\r\n        toast.error(errorMessage)\r\n      }\r\n    }\r\n  })\r\n\r\n  const selfCheckOutMutation = useMutation(attendanceService.selfCheckOut, {\r\n    onSuccess: () => {\r\n      toast.success('Checked out successfully')\r\n      queryClient.invalidateQueries('my-attendance')\r\n      queryClient.invalidateQueries('attendance-status')\r\n    },\r\n    onError: (error: any) => {\r\n      const errorMessage = error.response?.data?.error || 'Failed to check out'\r\n      if (errorMessage.includes('No active check-in')) {\r\n        toast.error('Please check in first before checking out')\r\n      } else if (errorMessage.includes('Already checked out')) {\r\n        toast.error('You have already checked out today')\r\n      } else {\r\n        toast.error(errorMessage)\r\n      }\r\n    }\r\n  })\r\n\r\n  // Live camera modal state\r\n  const [showCamera, setShowCamera] = useState<false | 'checkin' | 'checkout'>(false)\r\n  const videoRef = useRef<HTMLVideoElement | null>(null)\r\n  const mediaStreamRef = useRef<MediaStream | null>(null)\r\n\r\n  useEffect(() => {\r\n    const startStream = async () => {\r\n      try {\r\n        if (!showCamera) return\r\n        if (!isCameraAvailable()) {\r\n          toast.error('Camera not available on this device')\r\n          setShowCamera(false)\r\n          return\r\n        }\r\n        const stream = await navigator.mediaDevices.getUserMedia({\r\n          video: { facingMode: 'user', width: { ideal: 640 }, height: { ideal: 480 } },\r\n          audio: false\r\n        })\r\n        mediaStreamRef.current = stream\r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = stream\r\n          await videoRef.current.play()\r\n        }\r\n      } catch (err: any) {\r\n        toast.error(err?.message || 'Unable to access camera')\r\n        setShowCamera(false)\r\n      }\r\n    }\r\n    startStream()\r\n    return () => {\r\n      if (mediaStreamRef.current) {\r\n        mediaStreamRef.current.getTracks().forEach(t => t.stop())\r\n        mediaStreamRef.current = null\r\n      }\r\n    }\r\n  }, [showCamera])\r\n\r\n  const captureFromLive = async (): Promise<string | undefined> => {\r\n    try {\r\n      const video = videoRef.current\r\n      if (!video) return undefined\r\n      const canvas = document.createElement('canvas')\r\n      canvas.width = video.videoWidth || 640\r\n      canvas.height = video.videoHeight || 480\r\n      const ctx = canvas.getContext('2d')\r\n      if (ctx) ctx.drawImage(video, 0, 0, canvas.width, canvas.height)\r\n      const dataUrl = canvas.toDataURL('image/jpeg', 0.9)\r\n      return await getImageThumbnail(dataUrl)\r\n    } catch (e) {\r\n      toast.error('Failed to capture photo')\r\n      return undefined\r\n    }\r\n  }\r\n\r\n  const closeCamera = () => {\r\n    setShowCamera(false)\r\n  }\r\n\r\n  const handleOpenCheckIn = () => setShowCamera('checkin')\r\n  const handleOpenCheckOut = () => setShowCamera('checkout')\r\n\r\n  const handleConfirmCapture = async () => {\r\n    try {\r\n      const selfie = await captureFromLive()\r\n      const deviceInfo = getDeviceInfo()\r\n      const location = await getCompleteLocation().catch(() => null)\r\n      if (showCamera === 'checkin') {\r\n        await selfCheckInMutation.mutateAsync({\r\n          isRemote: false,\r\n          checkInSelfie: selfie,\r\n          checkInLocation: location,\r\n          deviceInfo\r\n        })\r\n      } else if (showCamera === 'checkout') {\r\n        await selfCheckOutMutation.mutateAsync({\r\n          checkOutSelfie: selfie,\r\n          checkOutLocation: location\r\n        })\r\n      }\r\n      setShowCamera(false)\r\n    } catch (err: any) {\r\n      toast.error(err?.message || 'Failed to record attendance')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">My Attendance</h1>\r\n          <p className=\"text-gray-600\">View your attendance records and history</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Live Camera Modal */}\r\n      {showCamera && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h3 className=\"text-lg font-semibold\">\r\n                {showCamera === 'checkin' ? 'Check In Selfie' : 'Check Out Selfie'}\r\n              </h3>\r\n              <button\r\n                onClick={closeCamera}\r\n                className=\"text-gray-500 hover:text-gray-700\"\r\n              >\r\n                ‚úï\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"relative\">\r\n              <video\r\n                ref={videoRef}\r\n                autoPlay\r\n                playsInline\r\n                muted\r\n                className=\"w-full h-64 bg-gray-900 rounded-lg\"\r\n              />\r\n              <div className=\"absolute bottom-4 left-1/2 transform -translate-x-1/2\">\r\n                <button\r\n                  onClick={handleConfirmCapture}\r\n                  className=\"bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 flex items-center gap-2\"\r\n                >\r\n                  <Camera className=\"w-4 h-4\" />\r\n                  Capture Photo\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"mt-4 text-sm text-gray-600 text-center\">\r\n              Position your face in the camera frame and click \"Capture Photo\"\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Current Status */}\r\n      {attendanceStatus && (\r\n        <div className=\"card p-4 bg-blue-50 border-blue-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n                <Clock className=\"h-5 w-5 text-blue-600\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"font-medium text-blue-900\">Today's Status</h3>\r\n                <p className=\"text-sm text-blue-700\">\r\n                  {attendanceStatus.status.isCompleted ? \"Completed for today\" :\r\n                   attendanceStatus.status.canCheckOut ? \"Checked in - Ready to check out\" :\r\n                   attendanceStatus.status.canCheckIn ? \"Not checked in yet\" : \"No attendance recorded\"}\r\n                </p>\r\n                {attendanceStatus.attendance && (\r\n                  <div className=\"mt-2 text-xs text-gray-600\">\r\n                    {attendanceStatus.attendance.checkIn && (\r\n                      <div>Check In: {new Date(attendanceStatus.attendance.checkIn).toLocaleTimeString()}</div>\r\n                    )}\r\n                    {attendanceStatus.attendance.checkOut && (\r\n                      <div>Check Out: {new Date(attendanceStatus.attendance.checkOut).toLocaleTimeString()}</div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Quick Actions */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        <button\r\n          onClick={handleOpenCheckIn}\r\n          disabled={selfCheckInMutation.isLoading || !attendanceStatus?.status?.canCheckIn}\r\n          className=\"card p-4 flex items-center justify-center gap-3 hover:bg-green-50 disabled:opacity-60 disabled:cursor-not-allowed\"\r\n        >\r\n          <LogIn className=\"h-5 w-5 text-green-600\" />\r\n          <span className=\"font-medium text-green-700\">\r\n            {attendanceStatus?.status?.canCheckIn ? \"Check In (Selfie + Location)\" : \"Already Checked In\"}\r\n          </span>\r\n        </button>\r\n        <button\r\n          onClick={handleOpenCheckOut}\r\n          disabled={selfCheckOutMutation.isLoading || !attendanceStatus?.status?.canCheckOut}\r\n          className=\"card p-4 flex items-center justify-center gap-3 hover:bg-orange-50 disabled:opacity-60 disabled:cursor-not-allowed\"\r\n        >\r\n          <LogOut className=\"h-5 w-5 text-orange-600\" />\r\n          <span className=\"font-medium text-orange-700\">\r\n            {attendanceStatus?.status?.canCheckOut ? \"Check Out (Selfie + Location)\" : \r\n             attendanceStatus?.status?.isCompleted ? \"Already Checked Out\" : \"Check In First\"}\r\n          </span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Quick Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <div className=\"card p-4\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-2 bg-green-100 rounded-lg\">\r\n              <CheckCircle className=\"h-5 w-5 text-green-600\" />\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Present Days</p>\r\n              <p className=\"text-xl font-bold text-gray-900\">\r\n                {attendanceData?.data?.attendances?.filter((att: any) => att.status === 'PRESENT').length || 0}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"card p-4\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-2 bg-red-100 rounded-lg\">\r\n              <XCircle className=\"h-5 w-5 text-red-600\" />\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Absent Days</p>\r\n              <p className=\"text-xl font-bold text-gray-900\">\r\n                {attendanceData?.data?.attendances?.filter((att: any) => att.status === 'ABSENT').length || 0}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"card p-4\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-2 bg-yellow-100 rounded-lg\">\r\n              <Clock className=\"h-5 w-5 text-yellow-600\" />\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Late Days</p>\r\n              <p className=\"text-xl font-bold text-gray-900\">\r\n                {attendanceData?.data?.attendances?.filter((att: any) => att.status === 'LATE').length || 0}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"card p-6\">\r\n        <div className=\"flex flex-col sm:flex-row gap-4\">\r\n          <div className=\"flex-1\">\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search attendance records...\"\r\n                className=\"input pl-10\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <input\r\n              type=\"date\"\r\n              className=\"input\"\r\n              value={dateFilter}\r\n              onChange={(e) => setDateFilter(e.target.value)}\r\n            />\r\n            <select \r\n              className=\"input\"\r\n              value={statusFilter}\r\n              onChange={(e) => setStatusFilter(e.target.value)}\r\n            >\r\n              <option value=\"\">All Status</option>\r\n              <option value=\"PRESENT\">Present</option>\r\n              <option value=\"ABSENT\">Absent</option>\r\n              <option value=\"LATE\">Late</option>\r\n              <option value=\"EARLY_LEAVE\">Early Leave</option>\r\n              <option value=\"HALF_DAY\">Half Day</option>\r\n            </select>\r\n            <button \r\n              className=\"btn btn-outline btn-md\"\r\n              onClick={() => {\r\n                setSearchTerm('')\r\n                setDateFilter(new Date().toISOString().split('T')[0])\r\n                setStatusFilter('')\r\n              }}\r\n            >\r\n              <Filter className=\"h-4 w-4 mr-2\" />\r\n              Clear\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Attendance List */}\r\n      <div className=\"card\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <h3 className=\"text-lg font-medium text-gray-900\">My Attendance Records</h3>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {isLoading ? (\r\n            <div className=\"text-center py-12\">\r\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\r\n              <p className=\"text-gray-600 mt-2\">Loading attendance records...</p>\r\n            </div>\r\n          ) : error ? (\r\n            <div className=\"text-center py-12\">\r\n              <p className=\"text-red-600\">Error loading attendance records</p>\r\n            </div>\r\n          ) : !attendanceData?.data?.attendances?.length ? (\r\n            <div className=\"text-center py-12\">\r\n              <Clock className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No attendance records</h3>\r\n              <p className=\"text-gray-600\">Your attendance records will appear here</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Date\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Check In\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Check Out\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Status\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Selfies\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Location\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Working Hours\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Details\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {attendanceData.data.attendances.map((attendance: any) => (\r\n                    <tr key={attendance.id}>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        {new Date(attendance.date).toLocaleDateString()}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        {attendance.checkIn ? new Date(attendance.checkIn).toLocaleTimeString() : 'N/A'}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        {attendance.checkOut ? new Date(attendance.checkOut).toLocaleTimeString() : 'N/A'}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"flex flex-col gap-1\">\r\n                          <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\r\n                            attendance.status === 'PRESENT' \r\n                              ? 'bg-green-100 text-green-800'\r\n                              : attendance.status === 'ABSENT'\r\n                              ? 'bg-red-100 text-red-800'\r\n                              : attendance.status === 'LATE'\r\n                              ? 'bg-yellow-100 text-yellow-800'\r\n                              : 'bg-gray-100 text-gray-800'\r\n                          }`}>\r\n                            {attendance.status}\r\n                          </span>\r\n                          {attendance.isRemote && (\r\n                            <span className=\"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-blue-700 bg-blue-50 rounded\">\r\n                              <Home className=\"w-3 h-3\" />\r\n                              Remote\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4\">\r\n                        <div className=\"flex gap-2\">\r\n                          {(attendance as any).checkInSelfie ? (\r\n                            <div className=\"flex flex-col items-center\">\r\n                              <img \r\n                                src={(attendance as any).checkInSelfie} \r\n                                alt=\"Check-In\" \r\n                                className=\"w-16 h-16 object-cover rounded-lg border-2 border-green-500 cursor-pointer hover:scale-110 transition-transform shadow-md\"\r\n                                onClick={() => window.open((attendance as any).checkInSelfie, '_blank')}\r\n                                title=\"Click to view check-in selfie\"\r\n                              />\r\n                              <span className=\"text-xs text-green-700 mt-1\">üåÖ In</span>\r\n                            </div>\r\n                          ) : null}\r\n                          {(attendance as any).checkOutSelfie ? (\r\n                            <div className=\"flex flex-col items-center\">\r\n                              <img \r\n                                src={(attendance as any).checkOutSelfie} \r\n                                alt=\"Check-Out\" \r\n                                className=\"w-16 h-16 object-cover rounded-lg border-2 border-orange-500 cursor-pointer hover:scale-110 transition-transform shadow-md\"\r\n                                onClick={() => window.open((attendance as any).checkOutSelfie, '_blank')}\r\n                                title=\"Click to view check-out selfie\"\r\n                              />\r\n                              <span className=\"text-xs text-orange-700 mt-1\">üåÜ Out</span>\r\n                            </div>\r\n                          ) : null}\r\n                          {!(attendance as any).checkInSelfie && !(attendance as any).checkOutSelfie && (\r\n                            <span className=\"text-gray-400 text-xs\">No photos</span>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 text-sm text-gray-900\">\r\n                        {attendance.location ? (\r\n                          <a\r\n                            href={`https://www.google.com/maps?q=${attendance.location.latitude},${attendance.location.longitude}`}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className=\"flex items-center gap-1 text-blue-600 hover:text-blue-800\"\r\n                            title={attendance.location.address}\r\n                          >\r\n                            <MapPin className=\"w-3 h-3\" />\r\n                            <span className=\"text-xs\">View Map</span>\r\n                          </a>\r\n                        ) : (\r\n                          <span className=\"text-gray-400 text-xs\">No location</span>\r\n                        )}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 text-sm text-gray-900\">\r\n                        <div className=\"flex flex-col gap-1\">\r\n                          {attendance.totalHours && (\r\n                            <div className=\"text-sm font-medium text-gray-900\">\r\n                              ‚è±Ô∏è Total: {attendance.totalHours}h\r\n                            </div>\r\n                          )}\r\n                          {(attendance as any).regularHours && (\r\n                            <div className=\"text-xs text-blue-600\">\r\n                              üìä Regular: {(attendance as any).regularHours}h\r\n                            </div>\r\n                          )}\r\n                          {(attendance as any).overtimeHours && (attendance as any).overtimeHours > 0 && (\r\n                            <div className=\"text-xs text-orange-600 font-medium\">\r\n                              ‚è∞ OT: +{(attendance as any).overtimeHours}h\r\n                            </div>\r\n                          )}\r\n                          {(attendance as any).breakHours && (attendance as any).breakHours > 0 && (\r\n                            <div className=\"text-xs text-gray-500\">\r\n                              üçΩÔ∏è Break: {(attendance as any).breakHours}h\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 text-sm text-gray-900\">\r\n                        <div className=\"flex flex-col gap-1\">\r\n                          {attendance.shift && (\r\n                            <span className=\"text-xs text-purple-600\">\r\n                              üîÑ {attendance.shift.name}\r\n                            </span>\r\n                          )}\r\n                          {attendance.notes && (\r\n                            <span className=\"text-xs text-gray-600\" title={attendance.notes}>\r\n                              üìù {attendance.notes.substring(0, 20)}{attendance.notes.length > 20 ? '...' : ''}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyAttendance\r\n\r\n"],"names":["MyAttendance","user","useAuth","searchTerm","setSearchTerm","useState","dateFilter","setDateFilter","statusFilter","setStatusFilter","queryClient","useQueryClient","attendanceData","isLoading","error","useQuery","attendanceService","attendanceStatus","selfCheckInMutation","useMutation","toast","errorMessage","selfCheckOutMutation","showCamera","setShowCamera","videoRef","useRef","mediaStreamRef","useEffect","isCameraAvailable","stream","err","captureFromLive","video","canvas","ctx","dataUrl","getImageThumbnail","closeCamera","handleOpenCheckIn","handleOpenCheckOut","handleConfirmCapture","selfie","deviceInfo","getDeviceInfo","location","getCompleteLocation","jsxs","jsx","Camera","Clock","_a","LogIn","_c","LogOut","_d","_e","CheckCircle","att","XCircle","Search","e","Filter","_m","_l","attendance","Home","MapPin"],"mappings":"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"}